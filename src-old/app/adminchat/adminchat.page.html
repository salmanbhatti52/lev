<ion-header class="ion-no-border">
  <ion-toolbar class="header">
    <ion-row style="margin-top: 30px;">
      <ion-col size="2" style="text-align: center;">
        <img (click)="goBack()" style="height: 20px;
          width: 20px;" src="assets/imgs/left.svg">
      </ion-col>
      <ion-col size="8" style="text-align: center; padding-top: 0px;">
        <ion-text style="font-size: 20px;">Hi, Admin</ion-text>
      </ion-col>
      <ion-col size="2" style="text-align: center;     padding: 0px;">
        <img style="    object-fit: cover;
          height: 35px;
          width: 35px;
          border-radius: 50%;" src="{{userIMG}}" (error)="handleImgError($event, userIMG)">
      </ion-col>
    </ion-row>

  </ion-toolbar>
</ion-header>
<ion-content #IonContent>
  <div class="container">
    <ng-container *ngIf="!showSkeleton">
      <div class="chat" style="display: grid; grid-row-gap: 4px">
        <ng-container *ngFor="let msg of allMessages">
          <div class="reciever_message_container reciever_message_cont" *ngIf="msg.userId!=currentUser">
            <div class="reciever">
              <ion-text class="textMessage" *ngIf="msg.msgType=='text'">
                {{msg.message}}
              </ion-text>
              <div (click)="viewImage(msg.message)" *ngIf="msg.msgType=='attachment'">
                <img class="attachment_receiver" src="{{msg.message}}" />
              </div>
            </div>
            <ion-text class="messageTime">{{msg.time}}</ion-text>
          </div>
          <div class="sender" *ngIf="msg.userId==currentUser">
            <div class="sender_message_container">
              <div class="senderMessage">
                <ion-text class="textMessage" *ngIf="msg.msgType=='text'">
                  {{msg.message}}
                </ion-text>
                <div (click)="viewImage(msg.message)" *ngIf="msg.msgType=='attachment'">
                  <img class="attachment_sender" src="{{msg.message}}" />
                </div>
              </div>
            </div>

            <ion-row style="padding: 0px;">
              <ion-col style="text-align: right; padding: 0px;">
                <ion-text class="messageTimeSender">{{msg.time}}</ion-text>
              </ion-col>

            </ion-row>



          </div>
        </ng-container>
      </div>
    </ng-container>
    <ng-container *ngIf="showSkeleton">
      <div class="chat" style="display: grid; grid-gap: 15px">
        <div class="reciever_message_container">
          <ion-skeleton-text class="skel_receiver" animated></ion-skeleton-text>
          <ion-text class="messageTime"></ion-text>
          <!-- <div class="reciever">
                <p class="textMessage">Hi Moaviz skeleton. How are you?</p>
              </div> -->
        </div>

        <div class="sender">
          <div class="sender_message_container">
            <ion-skeleton-text style="height: 97px" class="skel_sender" animated></ion-skeleton-text>
          </div>
        </div>
        <div class="reciever_message_container">
          <ion-skeleton-text class="skel_receiver" animated></ion-skeleton-text>
        </div>

        <div class="sender">
          <div class="sender_message_container">
            <ion-skeleton-text class="skel_sender" animated>
            </ion-skeleton-text>
          </div>
        </div>
        <div class="reciever_message_container">
          <ion-skeleton-text style="height: 97px" class="skel_receiver" animated></ion-skeleton-text>
        </div>

        <div class="sender">
          <div class="sender_message_container">
            <ion-skeleton-text class="skel_sender" animated></ion-skeleton-text>
          </div>
        </div>
        <div class="reciever_message_container">
          <ion-skeleton-text style="height: 97px" class="skel_receiver" animated></ion-skeleton-text>
        </div>
      </div>
    </ng-container>
  </div>
</ion-content>
<ion-footer style="    padding-left: 20px;    padding-right: 20px;
    background: black;" class="ion-no-margin ion-no-padding ion-no-border">
  <ion-toolbar class="footer">



    <div style="background-color: #4e4c4cdb; border-radius: 10px; height: 52px;">

      <ion-row>
        <ion-col size="2" style="padding: 0px;">
          <img (click)="selectImages('profile')" src="assets/imgs/plus.svg" style=" padding: 8px;
          height: 50px;
          background: white;
          border-radius: 10px;
          margin-top: 1px;">
        </ion-col>

        <ion-col size="8" style="padding-top: 0px;">
          <ion-input style="height: 50px;" class="input" rows="1" cols="20" [(ngModel)]="user_input"
            placeholder="Type something" (keypress)="userTyping($event)" (ionChange)="changeFunction($event)">
          </ion-input>
        </ion-col>

        <ion-col size="2" style="text-align: right; padding-right: 13px;">
          <img (click)="sendMsg()" src="assets/imgs/send.svg" style="margin-top: 10px;
          height: 25px;">
        </ion-col>
      </ion-row>
    </div>


    <!-- <div class="container">
      <div class="footerAction">
        <div class="attachments">
          <img class="attachSvg" (click)="selectImages('profile')" src="/assets/icon/attach.svg" alt="" />
        </div>
        <div class="message">
         
        </div>
        <div class="sendMessage" (click)="sendMsg()">
          <img class="sendSvg" src="/assets/icon/send.svg" alt="" />
        </div>
      </div>
    </div> -->




  </ion-toolbar>
</ion-footer>