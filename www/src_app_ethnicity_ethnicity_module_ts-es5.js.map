{"version":3,"sources":["webpack:///src/app/ethnicity/ethnicity-routing.module.ts","webpack:///src/app/ethnicity/ethnicity.module.ts","webpack:///src/app/ethnicity/ethnicity.page.ts","webpack:///src/app/ethnicity/ethnicity.page.scss","webpack:///src/app/ethnicity/ethnicity.page.html"],"names":["routes","path","component","EthnicityPage","EthnicityPageRoutingModule","NgModule","imports","RouterModule","exports","EthnicityPageModule","CommonModule","FormsModule","IonicModule","declarations","location","workService","restService","addedArray","userPrefData","user_preferences","arr","user_preferences_ethinicity","forEach","val","fields","name","system_ethinicity_name","sort_order","status","system_ethinicity_id","added","push","console","log","ethnicityArray","systemData","ethinicity","hash","Object","create","obj","assign","back","presentLoading","userID","localStorage","getItem","data","JSON","stringify","updatePrefAPI","subscribe","res","hideLoading","presentToast","message","err","i","find","o","aa","deleteThisIDPlz","length","splice","bb","Location","WorkService","RestService","Component","selector","template"],"mappings":"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","file":"src_app_ethnicity_ethnicity_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EthnicityPage } from './ethnicity.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EthnicityPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EthnicityPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EthnicityPageRoutingModule } from './ethnicity-routing.module';\n\nimport { EthnicityPage } from './ethnicity.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EthnicityPageRoutingModule\n  ],\n  declarations: [EthnicityPage]\n})\nexport class EthnicityPageModule {}\n","import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { RestService } from '../rest.service';\nimport { WorkService } from '../work.service';\n\n@Component({\n  selector: 'app-ethnicity',\n  templateUrl: './ethnicity.page.html',\n  styleUrls: ['./ethnicity.page.scss'],\n})\nexport class EthnicityPage implements OnInit {\n\n  ethnicityID: any\n  ethnicityArray: any\n\n  addedArray: any = []\n\n  constructor(public location: Location,\n    public workService: WorkService,\n    public restService: RestService) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n\n    // this.addedArray = JSON.parse(localStorage.getItem('ethnicityArr'))\n\n    // if (this.addedArray) {\n\n    // } else {\n    //   this.addedArray = []\n    // }\n\n\n    if (this.workService.userPrefData.user_preferences == null || this.workService.userPrefData.user_preferences == 'undefined') {\n      this.addedArray = []\n    } else {\n      let arr = this.workService.userPrefData.user_preferences_ethinicity\n\n      arr.forEach(val => {\n\n        let fields = {\n          name: val.system_ethinicity_name,\n          sort_order: \"1\",\n          status: \"Active\",\n          system_ethinicity_id: val.system_ethinicity_id,\n          added: true\n\n        }\n        this.addedArray.push(fields)\n      })\n\n      console.log('hurra', this.addedArray);\n    }\n\n\n\n\n\n    this.ethnicityArray = this.workService.systemData.ethinicity\n    console.log('ethnicityArray---', this.ethnicityArray);\n\n    var hash = Object.create(null);\n    this.ethnicityArray.forEach(obj => hash[obj.name] = obj);\n    this.addedArray.forEach(obj => Object.assign(hash[obj.name], obj));\n    console.log('after mergeee', this.ethnicityArray);\n  }\n\n  goBack() {\n    this.location.back()\n  }\n\n\n  saveEthnicity() {\n\n    this.workService.presentLoading()\n\n    console.log('saveEthnicity-------111', this.addedArray);\n\n    var userID = localStorage.getItem('loggedinUserID')\n\n    var data = JSON.stringify({\n      \"system_ethinicity_id\": this.addedArray\n    })\n    console.log('system_ethinicity_id-------111', data);\n    this.restService.updatePrefAPI('update_ethinicity/', userID, data).subscribe((res: any) => {\n      this.workService.hideLoading()\n      console.log('resss======', res);\n      if (res.status == 'success') {\n        this.workService.presentToast(res.message)\n        this.location.back()\n      }\n    }, err => {\n      this.workService.hideLoading()\n      this.workService.presentToast('Network error occured')\n    })\n  }\n\n\n\n  ethSelected(val, i) {\n\n    let obj = this.addedArray.find(o => o.system_ethinicity_id == val.system_ethinicity_id);\n    if (obj) {\n      console.log('delete');\n      var aa = {\n        system_ethinicity_id: val.system_ethinicity_id,\n        name: val.name,\n        sort_order: val.sort_order,\n        status: val.status,\n        added: false\n      }\n      this.ethnicityArray[i] = aa\n      var deleteThisIDPlz = 0\n      for (let i = 0; i < this.addedArray.length; i++) {\n        if (this.addedArray[i].system_ethinicity_id == val.system_ethinicity_id) {\n          console.log('indexxxxxxx id testID--------', i);\n          deleteThisIDPlz = i\n        }\n      }\n      this.addedArray.splice(deleteThisIDPlz, 1)\n      console.log('delete-------', this.addedArray);\n    } else {\n      console.log('Add');\n      var bb = {\n        system_ethinicity_id: val.system_ethinicity_id,\n        name: val.name,\n        sort_order: val.sort_order,\n        status: val.status,\n        added: true\n      }\n      this.ethnicityArray[i] = bb\n      this.addedArray.push(bb)\n      console.log('added-------111111111', this.addedArray);\n    }\n    console.log('added-------9999999999', this.addedArray);\n    // localStorage.setItem('ethnicity', val.name)\n    // localStorage.setItem('ethnicityID', val.system_ethinicity_id)\n\n    // \n\n  }\n\n\n}\n","export default \".btn {\\n  background: #ffffff 0% 0% no-repeat padding-box;\\n  color: black;\\n  font-size: 14pt;\\n  box-shadow: 0px 4px 10px #0000001f;\\n  border-radius: 10px;\\n  opacity: 1;\\n  padding-top: 16px;\\n  padding-bottom: 16px;\\n  width: 100%;\\n}\\n\\n.divbg {\\n  height: 50px;\\n  margin-left: 2px;\\n  font-size: 11pt;\\n  color: gray;\\n  border: 1px solid #707070;\\n  background: #333333;\\n  padding: 14px 25px 14px 25px;\\n  border-radius: 40px;\\n  text-align: center;\\n}\\n\\n.divbg:active {\\n  height: 50px;\\n  margin-left: 2px;\\n  font-size: 11pt;\\n  color: black;\\n  border: 1px solid #707070;\\n  background: #ffffff;\\n  padding: 14px 25px 14px 25px;\\n  border-radius: 40px;\\n  text-align: center;\\n}\\n\\n.activedivbg {\\n  margin-left: 2px;\\n  font-size: 11pt;\\n  color: black;\\n  border: 1px solid #707070;\\n  background: #ffffff;\\n  padding: 14px 25px 14px 25px;\\n  border-radius: 40px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV0aG5pY2l0eS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwrQ0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0Esa0NBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUNBO0VBQ0ksWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0EsNEJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FBRUo7O0FBQ0E7RUFDSSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSw0QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFFSjs7QUFDQTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0EsNEJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FBRUoiLCJmaWxlIjoiZXRobmljaXR5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idG4ge1xuICAgIGJhY2tncm91bmQ6ICNmZmZmZmYgMCUgMCUgbm8tcmVwZWF0IHBhZGRpbmctYm94O1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBmb250LXNpemU6IDE0cHQ7XG4gICAgYm94LXNoYWRvdzogMHB4IDRweCAxMHB4ICMwMDAwMDAxZjtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIG9wYWNpdHk6IDE7XG4gICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgcGFkZGluZy1ib3R0b206IDE2cHg7XG4gICAgd2lkdGg6IDEwMCU7XG59XG4uZGl2Ymcge1xuICAgIGhlaWdodDogNTBweDtcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xuICAgIGZvbnQtc2l6ZTogMTFwdDtcbiAgICBjb2xvcjogZ3JheTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzA3MDcwO1xuICAgIGJhY2tncm91bmQ6ICMzMzMzMzM7XG4gICAgcGFkZGluZzogMTRweCAyNXB4IDE0cHggMjVweDtcbiAgICBib3JkZXItcmFkaXVzOiA0MHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmRpdmJnOmFjdGl2ZSB7XG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIG1hcmdpbi1sZWZ0OiAycHg7XG4gICAgZm9udC1zaXplOiAxMXB0O1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzA3MDcwO1xuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gICAgcGFkZGluZzogMTRweCAyNXB4IDE0cHggMjVweDtcbiAgICBib3JkZXItcmFkaXVzOiA0MHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmFjdGl2ZWRpdmJnIHtcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xuICAgIGZvbnQtc2l6ZTogMTFwdDtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzcwNzA3MDtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICAgIHBhZGRpbmc6IDE0cHggMjVweCAxNHB4IDI1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNDBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4iXX0= */\";","export default \"<ion-content>\\n\\n\\n\\n  <ion-row class=\\\"top-margin-head-40\\\">\\n    <ion-col size=\\\"2\\\" style=\\\"text-align: center;\\\">\\n      <img (click)=\\\"goBack()\\\" style=\\\"height: 20px;\\n      width: 20px;\\\" src=\\\"assets/imgs/left.svg\\\">\\n    </ion-col>\\n    <ion-col size=\\\"8\\\" style=\\\"text-align: center;\\\">\\n    </ion-col>\\n    <ion-col size=\\\"2\\\">\\n    </ion-col>\\n  </ion-row>\\n\\n\\n  <div style=\\\"padding: 20px;\\\">\\n\\n    <ion-text>Ethnicity *</ion-text>\\n\\n    <div class=\\\"margin-top-fixed\\\" style=\\\"padding: 0px 0px 0px 0px;\\\">\\n\\n      <ion-chip *ngFor=\\\"let eth of ethnicityArray;  let i = index;\\\" class=\\\"divbg\\\" (click)=\\\"ethSelected(eth,i)\\\"\\n        [class.activedivbg]=\\\"eth.added\\\">\\n        <ion-label style=\\\" color: gray;;\\\">{{eth.name}}</ion-label>\\n      </ion-chip>\\n\\n    </div>\\n\\n\\n    <ion-row style=\\\"width: 100%;  bottom: 3px; padding: 6px; margin-top: 40px;\\\">\\n      <ion-col style=\\\"text-align: center\\\">\\n        <button (click)=\\\"saveEthnicity()\\\" class=\\\"btn\\\">Save</button>\\n      </ion-col>\\n    </ion-row>\\n\\n\\n  </div>\\n\\n</ion-content>\";"]}